
> backend@1.0.0 test-report
> node --test --experimental-test-coverage

TAP version 13
# Subtest: instantiate cards
ok 1 - instantiate cards
  ---
  duration_ms: 4.086875
  ...
# Subtest: build deck, get cards and shuffle
ok 2 - build deck, get cards and shuffle
  ---
  duration_ms: 0.47475
  ...
# Waiting for 0.5 seconds...
# resolved player descison
# game state in result
# Logger {
#   messages: [
#     'distributing intial hand',
#     'Bob handed 3',
#     'dealer handed 4',
#     'Bob handed 10',
#     'dealer handed 3',
#     'check Bob descion',
#     'Bob stands',
#     'dealer reveals his cards and evaluated',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer is OVER17',
#     'dealer count is 19',
#     'player count is 13',
#     'dealer collect bet'
#   ]
# }
# Subtest: game object interactions via game Action
    # Subtest: constructing a game object, runing simple game, manual churning
    ok 1 - constructing a game object, runing simple game, manual churning
      ---
      duration_ms: 561.140458
      ...
# resolved player descison
# game state in result
# Logger {
#   messages: [
#     'distributing intial hand',
#     'Bob handed 3',
#     'dealer handed 4',
#     'Bob handed 10',
#     'dealer handed 3',
#     'Bob stands',
#     'check Bob descion',
#     'dealer reveals his cards and evaluated',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer is OVER17',
#     'dealer count is 19',
#     'player count is 13',
#     'dealer collect bet'
#   ]
# }
    # Subtest: automatic invocation of run
    ok 2 - automatic invocation of run
      ---
      duration_ms: 2507.362333
      ...
    1..2
ok 3 - game object interactions via game Action
  ---
  duration_ms: 3069.989583
  type: 'suite'
  ...
# Waiting for 1 seconds...
# game state in result
# Subtest: game state object testing
    # Subtest: mocking the game round, no response from player after bettting yet game proceeds
    ok 1 - mocking the game round, no response from player after bettting yet game proceeds
      ---
      duration_ms: 240.289709
      ...
    1..1
ok 4 - game state object testing
  ---
  duration_ms: 242.079
  type: 'suite'
  ...
# Subtest: hand intilization
    # Subtest: deal cards and evaluate total accouting value of ace
    ok 1 - deal cards and evaluate total accouting value of ace
      ---
      duration_ms: 1.882875
      ...
    # Subtest: only one ace decreases in value after other cards exceed 21
    ok 2 - only one ace decreases in value after other cards exceed 21
      ---
      duration_ms: 0.361125
      ...
    # Subtest: combination cosisting of only one ace
    ok 3 - combination cosisting of only one ace
      ---
      duration_ms: 0.214125
      ...
    # Subtest: combination cosisting of only one ace
    ok 4 - combination cosisting of only one ace
      ---
      duration_ms: 0.139375
      ...
    1..4
ok 5 - hand intilization
  ---
  duration_ms: 13.109167
  type: 'suite'
  ...
# Subtest: random integer range test
ok 6 - random integer range test
  ---
  duration_ms: 26.136375
  ...
# Subtest: Player Stages to black jack
ok 7 - Player Stages to black jack
  ---
  duration_ms: 5.946666
  ...
# Subtest: Player Stages to bust with hit
ok 8 - Player Stages to bust with hit
  ---
  duration_ms: 0.528958
  ...
# Subtest: Player Stages to stand
ok 9 - Player Stages to stand
  ---
  duration_ms: 2.687417
  ...
# Subtest: dealer states  
    # Subtest: dealer state under over
    ok 1 - dealer state under over
      ---
      duration_ms: 0.438458
      ...
    # Subtest: dealer state under blackjack
    ok 2 - dealer state under blackjack
      ---
      duration_ms: 0.126542
      ...
    # Subtest: dealer state under busted
    ok 3 - dealer state under busted
      ---
      duration_ms: 0.113667
      ...
    1..3
ok 10 - dealer states  
  ---
  duration_ms: 0.915291
  type: 'suite'
  ...
# { method: 'create', clientId: 'a56ba447-7a89-4474-b753-78bb524384bd' }
# {
#   method: 'chat',
#   clientId: 'a56ba447-7a89-4474-b753-78bb524384bd',
#   chatMsg: 'hello people'
# }
# Subtest: mocking server and clients 
    # Subtest: check server responds to newly connected client   \\n        client 1 is able to send a create request -> auto join the game \\n        client 2 can join the game given he includes game id to join the game in the request
    ok 1 - check server responds to newly connected client   \\n        client 1 is able to send a create request -> auto join the game \\n        client 2 can join the game given he includes game id to join the game in the request
      ---
      duration_ms: 9.082292
      ...
    # Subtest: broadcast chat msgs to other connected clients and back to self 
    ok 2 - broadcast chat msgs to other connected clients and back to self 
      ---
      duration_ms: 0.749916
      ...
    1..2
ok 11 - mocking server and clients 
  ---
  duration_ms: 11.123041
  type: 'suite'
  ...
1..11
# tests 18
# suites 5
# pass 18
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 3364.244167
# start of coverage report
# ------------------------------------------------------------------------------------------------------------------------------
# file                          | line % | branch % | funcs % | uncovered lines
# ------------------------------------------------------------------------------------------------------------------------------
# game.js                       |  85.90 |    68.97 |   92.86 | 16-18 75-77 83-87 90-93 101 103 147 167-168 174-178 190-196
# gameEngine/card.js            |  55.84 |   100.00 |   50.00 | 24-25 28-29 37-44 48-69
# gameEngine/dealer_state.js    |  90.82 |    80.00 |  100.00 | 28-32 80-81 89-90
# gameEngine/deck.js            | 100.00 |   100.00 |  100.00 | 
# gameEngine/game_state.js      |  98.46 |    92.31 |  100.00 | 119-120
# gameEngine/hand.js            |  94.44 |   100.00 |   83.33 | 43-45
# gameEngine/player_state.js    |  93.00 |    83.33 |  100.00 | 18-20 83-84 92-93
# tests/cards.test.js           | 100.00 |   100.00 |  100.00 | 
# tests/game_state.test.js      |  89.86 |    66.67 |  100.00 | 55-57 63-67 70-73 81 83 100-101 121-122 140-141 147-151 156-160
# tests/game.test.js            |  96.30 |    93.75 |   83.33 | 20-21 31 39-42
# tests/hand.test.js            | 100.00 |   100.00 |  100.00 | 
# tests/helper.test.js          | 100.00 |   100.00 |  100.00 | 
# tests/state.test.js           | 100.00 |   100.00 |  100.00 | 
# tests/webSocketServer.test.js | 100.00 |   100.00 |  100.00 | 
# utils/cards.js                |  90.32 |    75.00 |  100.00 | 20-22
# utils/helper.js               | 100.00 |   100.00 |  100.00 | 
# utils/logger.js               |  78.38 |   100.00 |   60.00 | 17-22 29-30
# utils/que.js                  |  82.35 |    87.50 |   75.00 | 14-15 21-25 39-40
# webSocketServer.js            |  89.17 |    80.00 |  100.00 | 25-35 98-99
# ------------------------------------------------------------------------------------------------------------------------------
# all files                     |  92.00 |    85.45 |   90.77 |
# ------------------------------------------------------------------------------------------------------------------------------
# end of coverage report
