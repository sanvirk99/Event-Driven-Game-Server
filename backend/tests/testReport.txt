
> backend@1.0.0 test-report
> node --test --experimental-test-coverage

TAP version 13
# Subtest: instantiate cards
ok 1 - instantiate cards
  ---
  duration_ms: 4.443084
  ...
# Subtest: build deck, get cards and shuffle
ok 2 - build deck, get cards and shuffle
  ---
  duration_ms: 0.595
  ...
# Subtest: build deck, get cards jsonObjects
ok 3 - build deck, get cards jsonObjects
  ---
  duration_ms: 0.208917
  ...
# Waiting for 0.5 seconds...
# Logger {
#   messages: [
#     'distributing intial hand',
#     'Bob handed 3',
#     'dealer handed 4',
#     'Bob handed 10',
#     'dealer handed 3',
#     'check Bob descion',
#     'Bob stands',
#     'dealer reveals his cards and evaluated',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer is OVER17',
#     'dealer count is 19',
#     'player count is 13',
#     'dealer collect bet'
#   ]
# }
# Subtest: game object interactions via game Action
    # Subtest: constructing a game object, runing simple game, manual churning
    ok 1 - constructing a game object, runing simple game, manual churning
      ---
      duration_ms: 504.553208
      ...
# Logger {
#   messages: [
#     'distributing intial hand',
#     'Bob handed 3',
#     'dealer handed 4',
#     'Bob handed 10',
#     'dealer handed 3',
#     'Bob stands',
#     'check Bob descion',
#     'dealer reveals his cards and evaluated',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer handed 3',
#     'dealer is OVER17',
#     'dealer count is 19',
#     'player count is 13',
#     'dealer collect bet'
#   ]
# }
    # Subtest: automatic invocation of run
    ok 2 - automatic invocation of run
      ---
      duration_ms: 2507.084792
      ...
    1..2
ok 4 - game object interactions via game Action
  ---
  duration_ms: 3013.578667
  type: 'suite'
  ...
# Waiting for 1 seconds...
# Subtest: game state object testing
    # Subtest: mocking the game round, no response from player after bettting yet game proceeds
    ok 1 - mocking the game round, no response from player after bettting yet game proceeds
      ---
      duration_ms: 205.807208
      ...
    1..1
ok 5 - game state object testing
  ---
  duration_ms: 206.679625
  type: 'suite'
  ...
# Subtest: hand intilization
    # Subtest: deal cards and evaluate total accouting value of ace
    ok 1 - deal cards and evaluate total accouting value of ace
      ---
      duration_ms: 0.884084
      ...
    # Subtest: only one ace decreases in value after other cards exceed 21
    ok 2 - only one ace decreases in value after other cards exceed 21
      ---
      duration_ms: 1.537833
      ...
    # Subtest: combination cosisting of only one ace
    ok 3 - combination cosisting of only one ace
      ---
      duration_ms: 0.181167
      ...
    # Subtest: combination cosisting of only one ace
    ok 4 - combination cosisting of only one ace
      ---
      duration_ms: 0.135583
      ...
    # Subtest: array of json card is returned for toJSON method
    ok 5 - array of json card is returned for toJSON method
      ---
      duration_ms: 0.64225
      ...
    1..5
ok 6 - hand intilization
  ---
  duration_ms: 4.212625
  type: 'suite'
  ...
# Subtest: random integer range test
ok 7 - random integer range test
  ---
  duration_ms: 6.277542
  ...
# Subtest: Player Stages to black jack
ok 8 - Player Stages to black jack
  ---
  duration_ms: 1.349375
  ...
# Subtest: Player Stages to bust with hit
ok 9 - Player Stages to bust with hit
  ---
  duration_ms: 0.161375
  ...
# Subtest: Player Stages to stand
ok 10 - Player Stages to stand
  ---
  duration_ms: 0.167625
  ...
# Subtest: dealer states  
    # Subtest: dealer state under over
    ok 1 - dealer state under over
      ---
      duration_ms: 0.38025
      ...
    # Subtest: dealer state under blackjack
    ok 2 - dealer state under blackjack
      ---
      duration_ms: 0.159917
      ...
    # Subtest: dealer state under busted
    ok 3 - dealer state under busted
      ---
      duration_ms: 0.12525
      ...
    1..3
ok 11 - dealer states  
  ---
  duration_ms: 0.874916
  type: 'suite'
  ...
# { method: 'create', clientId: '63803c3a-2381-40f0-9aa8-7fb339ddbc9a' }
# {
#   method: 'chat',
#   clientId: '63803c3a-2381-40f0-9aa8-7fb339ddbc9a',
#   chatMsg: 'hello people'
# }
# Subtest: mocking server and clients 
    # Subtest: check server responds to newly connected client   \\n        client 1 is able to send a create request -> auto join the game \\n        client 2 can join the game given he includes game id to join the game in the request
    ok 1 - check server responds to newly connected client   \\n        client 1 is able to send a create request -> auto join the game \\n        client 2 can join the game given he includes game id to join the game in the request
      ---
      duration_ms: 3.286125
      ...
    # Subtest: broadcast chat msgs to other connected clients and back to self 
    ok 2 - broadcast chat msgs to other connected clients and back to self 
      ---
      duration_ms: 0.191166
      ...
    1..2
ok 12 - mocking server and clients 
  ---
  duration_ms: 4.276625
  type: 'suite'
  ...
# Subtest: client names connectes names himself then creates a game 
ok 13 - client names connectes names himself then creates a game 
  ---
  duration_ms: 0.054542
  type: 'suite'
  ...
1..13
# tests 20
# suites 6
# pass 20
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 3095.961375
# start of coverage report
# ------------------------------------------------------------------------------------------------------------------------------
# file                          | line % | branch % | funcs % | uncovered lines
# ------------------------------------------------------------------------------------------------------------------------------
# game.js                       |  78.97 |    70.00 |   93.33 | 83-85 91-95 98-101 109 111 154 176-177 183-187 198-204 227-254
# gameEngine/card.js            |  76.62 |    90.91 |   87.50 | 37-44 59-68
# gameEngine/dealer_state.js    |  90.82 |    80.00 |  100.00 | 28-32 80-81 89-90
# gameEngine/deck.js            | 100.00 |   100.00 |  100.00 | 
# gameEngine/game_state.js      |  96.97 |    85.71 |  100.00 | 66-67 121-122
# gameEngine/hand.js            |  95.83 |   100.00 |   87.50 | 49-51
# gameEngine/player_state.js    |  93.33 |    83.33 |  100.00 | 21-23 88-89 97-98
# tests/cards.test.js           | 100.00 |   100.00 |  100.00 | 
# tests/game_state.test.js      |  89.90 |    66.67 |  100.00 | 55-57 63-67 70-73 81 83 100-101 121-122 140-141 147-151 156-160
# tests/game.test.js            |  96.15 |    93.75 |   83.33 | 20-21 31 39-42
# tests/hand.test.js            | 100.00 |   100.00 |  100.00 | 
# tests/helper.test.js          | 100.00 |   100.00 |  100.00 | 
# tests/state.test.js           | 100.00 |   100.00 |  100.00 | 
# tests/webSocketServer.test.js | 100.00 |   100.00 |  100.00 | 
# utils/cards.js                |  90.32 |    75.00 |  100.00 | 20-22
# utils/helper.js               | 100.00 |   100.00 |  100.00 | 
# utils/logger.js               |  78.38 |   100.00 |   60.00 | 17-22 29-30
# utils/que.js                  |  82.35 |    87.50 |   75.00 | 14-15 21-25 39-40
# webSocketServer.js            |  75.95 |    81.82 |   80.00 | 27-37 102-108 125-144
# ------------------------------------------------------------------------------------------------------------------------------
# all files                     |  91.01 |    85.84 |   93.01 |
# ------------------------------------------------------------------------------------------------------------------------------
# end of coverage report
